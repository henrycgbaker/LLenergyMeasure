# Session Handoff — 2026-02-26 (updated)

> **Branch**: `gsd/v2.0-full-cli`
> **Last commit**: `9666b14` (design doc carry-forward notes)
> **Context**: `.product/` planning complete. Ready for REQUIREMENTS.md + ROADMAP.md.

---

## Status: Steps 1 + 2 COMPLETE — Ready for Step 3

### Step 1: DONE — All 9 design-gap items reviewed with peer research
All 9 preservation audit items with design gaps have been reviewed against peer research,
discussed with user, and recorded in `preservation_audit/INDEX.md` (decisions #10-#19).

| Item | ID | Decision |
|------|-----|----------|
| Study Aggregation | P-02 | **Cut.** StudyResult = manifest only. Stats downstream. |
| Parameter Provenance | P-07 | **Keep, simplify.** 3 sources. Not essential but carry forward. |
| Baseline Power | N-X01+N-R02 | **Keep all.** Strongest differentiator (0/5 peers do this). |
| Completeness Validation | P-09 | **Keep.** Scoped to PyTorch backend internal. |
| State Machine | N-X10 | **3 states confirmed.** INITIALISING, MEASURING, DONE + failed:bool. |
| FLOPs Confidence | N-C05 | **Keep both method + confidence.** Consolidate ComputeMetrics. |
| Environment Metadata | N-C01 | **Keep all working v1.x code.** Add trivial new fields. |
| Preset Registry | N-X07 | **Drop PRESETS registry.** Opinionated Pydantic defaults. 0/8 peers use registries. |
| Config Introspection | P-03 | **Keep, lean on Pydantic v2.** model_json_schema() replaces custom reflection. |

### Step 2: DONE — Design docs updated with carry-forward notes
- `observability.md` — Rich implementation superseded, plain output (~200 LOC)
- `result-schema.md` — CIs deferred v2.1, CSV kept, warmup field name fixed
- `architecture.md` — Added introspection.py, protocols.py, updated display.py

### Step 3: TODO — Write REQUIREMENTS.md + ROADMAP.md
All `.product/` decisions are now complete. Sources:
- `decisions/` — all ADRs (what + why)
- `designs/` — all technical specs (how)
- `preservation_audit/INDEX.md` — all 47 items decided, 19 formal decisions recorded

**Scoping principle** (established this session):
> Carry forward all working v1.x code. Only defer things needing significant new
> implementation. If it's trivial and important, include it.

---

## Commits This Session (continued)
```
42e2136 - resolve 10 blocking audit findings + --dry-run spec
c030c82 - todo: revisit peak_memory_mb measurement semantics
25199da - docs(product): add propagation audit reports + session handoff
3ef28e0 - sweep remaining v2.2 refs in designs/ to v2.0 milestones
7fed1b1 - drop --profile, collapse v2.0/v2.1 split, eliminate v2.2
dd39b16 - record revised preservation audit decisions from sanity review
9d907e1 - capture todo: Consider study-level cross-config aggregation
1e3367b - record N-X07 preset registry + P-03 introspection decisions
9666b14 - add preservation audit carry-forward notes to design docs
```
