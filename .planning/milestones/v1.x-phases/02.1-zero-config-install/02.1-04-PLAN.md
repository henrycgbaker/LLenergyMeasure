---
phase: 02.1-zero-config-install
plan: 04
type: execute
wave: 3
depends_on: ["02.1-01", "02.1-02"]
files_modified:
  - README.md
  - docs/quickstart.md
  - docs/backends.md
  - docs/deployment.md
autonomous: true

must_haves:
  truths:
    - "README install section shows three paths: local, local+Docker, Docker-only"
    - "README does not reference setup.sh"
    - "Quickstart guide starts with pip install (no extras needed)"
    - "Backends guide documents lem backend list command"
    - "Deployment guide references lem docker setup instead of setup.sh"
  artifacts:
    - path: "README.md"
      provides: "Updated install instructions with three-path story"
      contains: "pip install"
    - path: "docs/quickstart.md"
      provides: "Local-first quickstart flow"
    - path: "docs/backends.md"
      provides: "Backend detection, lem backend list docs"
      contains: "lem backend list"
    - path: "docs/deployment.md"
      provides: "Docker setup via lem docker setup"
      contains: "lem docker setup"
  key_links:
    - from: "README.md"
      to: "docs/quickstart.md"
      via: "links to quickstart"
      pattern: "quickstart"
    - from: "README.md"
      to: "docs/backends.md"
      via: "links to backends guide"
      pattern: "backends"
---

<objective>
Refresh documentation to reflect the new three-path install story: local-first with PyTorch default, optional Docker for multi-backend, Docker-only bootstrap.

Purpose: Users find accurate, up-to-date install instructions matching the new zero-config experience. No references to setup.sh remain.

Output: Updated README.md, quickstart.md, backends.md, deployment.md.
</objective>

<execution_context>
@/home/h.baker@hertie-school.lan/.claude/get-shit-done/workflows/execute-plan.md
@/home/h.baker@hertie-school.lan/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/02.1-zero-config-install/02.1-CONTEXT.md
@README.md
@docs/quickstart.md
@docs/backends.md
@docs/deployment.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update README.md install section</name>
  <files>README.md</files>
  <action>
Rewrite the Installation section of README.md (currently lines ~56-60, very sparse) to reflect the three install paths. Keep the existing Features, Parameters table, and other sections.

Replace the Installation section with:

```markdown
## Installation

### Path 1: Local Install (most users)

```bash
pip install -e .
lem experiment configs/examples/pytorch_example.yaml -n 10
```

Base install includes PyTorch backend — no extras needed.

### Path 2: Local + Docker (multi-backend campaigns)

```bash
pip install -e .
lem docker setup --backend pytorch --backend vllm
lem campaign multi-backend-campaign.yaml
```

Docker required only for campaigns spanning multiple backends (vLLM, TensorRT have conflicting dependencies).

### Path 3: Docker-Only

```bash
make docker-setup
lem campaign config.yaml
```

### Optional Backends

```bash
pip install -e ".[vllm]"       # vLLM (high throughput, Linux only)
pip install -e ".[tensorrt]"   # TensorRT (Ampere+ GPU, Linux only)
pip install -e ".[dev]"        # Development tools (pytest, ruff, mypy)
```

Check installed backends: `lem backend list`
```

Also:
- Remove any references to `setup.sh` or `./setup.sh` throughout README.md
- Update the "Running Experiments" section if it references setup.sh
- Update "Development" section to reference `make setup` or `make dev` instead of setup.sh
- Ensure the Docker section references `lem docker setup` not `./setup.sh`
  </action>
  <verify>
`grep -c 'setup.sh' README.md` returns 0. `grep -c 'lem docker setup' README.md` returns at least 1. `grep -c 'pip install' README.md` returns at least 1.
  </verify>
  <done>
README.md shows three-path install story. No setup.sh references. Docker setup via `lem docker setup`.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update quickstart, backends, and deployment docs</name>
  <files>docs/quickstart.md, docs/backends.md, docs/deployment.md</files>
  <action>
**docs/quickstart.md** (~310 lines):
- Update install steps to show `pip install -e .` (no extras)
- Remove references to `setup.sh`
- First experiment should be: `lem experiment configs/examples/pytorch_example.yaml -n 10`
- Add a "Check Your Setup" section: `lem backend list` to verify backends
- Keep existing content about datasets, config files, experiment output

**docs/backends.md** (~890 lines):
- Add a "Backend Detection" section near the top:
  - `lem backend list` — shows installed backends
  - Explain actionable error messages when backend missing
  - Show install commands for each backend
- Update install instructions per backend:
  - PyTorch: "Included in base install" (not `pip install llenergymeasure[pytorch]`)
  - vLLM: `pip install -e ".[vllm]"` (unchanged)
  - TensorRT: `pip install -e ".[tensorrt]"` (unchanged)
- Remove any references to `setup.sh`
- Keep existing backend-specific configuration documentation

**docs/deployment.md** (~418 lines):
- Replace `./setup.sh` references with `lem docker setup`
- Update Docker setup section:
  - `lem docker setup` for guided setup
  - `lem docker build <backend>` for building specific images
  - `lem docker status` for checking readiness
- Update `make` targets section to reflect new Makefile (if referenced)
- Remove `./setup.sh` workflow, replace with:
  1. `pip install -e .`
  2. `lem docker setup --backend pytorch`
  3. `lem campaign config.yaml`
- Keep existing Docker compose configuration, volume management, and troubleshooting sections
  </action>
  <verify>
```bash
grep -c 'setup.sh' docs/quickstart.md docs/backends.md docs/deployment.md  # All 0
grep -c 'lem backend list' docs/backends.md  # At least 1
grep -c 'lem docker setup' docs/deployment.md  # At least 1
```
  </verify>
  <done>
All four docs updated. No setup.sh references. Quickstart starts with pip install. Backends guide includes `lem backend list`. Deployment guide uses `lem docker setup`.
  </done>
</task>

</tasks>

<verification>
```bash
# No setup.sh references in any docs
grep -r 'setup.sh' README.md docs/ | grep -v '.planning' | wc -l  # Should be 0

# Key commands documented
grep -l 'lem docker setup' README.md docs/deployment.md  # Both files
grep -l 'lem backend list' docs/backends.md              # Present
grep -l 'pip install' README.md docs/quickstart.md       # Both files
```
</verification>

<success_criteria>
- README.md: Three-path install story, no setup.sh references
- docs/quickstart.md: Local-first flow starting with pip install
- docs/backends.md: Backend detection section with lem backend list
- docs/deployment.md: Docker setup via lem docker setup
- Zero references to setup.sh across all documentation
</success_criteria>

<output>
After completion, create `.planning/phases/02.1-zero-config-install/02.1-04-SUMMARY.md`
</output>
