---
phase: 01-measurement-foundations
plan: 04
type: gap_closure
wave: 3
depends_on:
  - 01-02
files_modified:
  - src/llenergymeasure/exceptions.py
autonomous: true
requirements:
  - INF-01
  - INF-06

must_haves:
  truths:
    - "All v1.x exception names (ConfigurationError, AggregationError, BackendInferenceError, BackendInitializationError, BackendNotAvailableError) resolve when imported from llenergymeasure.exceptions"
    - "The compatibility aliases map to the correct v2.0 exception classes"
    - "No v1.x files are modified — aliases live solely in exceptions.py"
  artifacts:
    - path: "src/llenergymeasure/exceptions.py"
      provides: "v2.0 exception hierarchy plus v1.x compatibility aliases"
      contains: "ConfigurationError"
  key_links:
    - from: "src/llenergymeasure/config/loader.py"
      to: "src/llenergymeasure/exceptions.py"
      via: "imports ConfigurationError (alias for ConfigError)"
      pattern: "from llenergymeasure\\.exceptions import ConfigurationError"
---

<objective>
Add backwards-compatibility aliases in exceptions.py so that v1.x modules which import
deleted exception names (ConfigurationError, AggregationError, BackendInferenceError,
BackendInitializationError, BackendNotAvailableError) can resolve without ImportError.

Purpose: Unblocks transitive imports through v1.x carry-over modules (config/loader.py,
cli/experiment.py, results/aggregation.py, etc.) without modifying those later-phase files.
This is the minimal fix to close Phase 1 verification gap #1.
</objective>

<execution_context>
@/home/h.baker@hertie-school.lan/.claude/get-shit-done/workflows/execute-plan.md
@/home/h.baker@hertie-school.lan/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/01-measurement-foundations/01-VERIFICATION.md
@src/llenergymeasure/exceptions.py
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add v1.x compatibility aliases to exceptions.py</name>
  <files>src/llenergymeasure/exceptions.py</files>
  <action>
Add a clearly marked compatibility section at the bottom of exceptions.py with aliases
that map deleted v1.x exception names to their v2.0 replacements.

Add the following aliases after the existing exception definitions:

```python
# ---------------------------------------------------------------------------
# v1.x compatibility aliases — removed in a later phase when consumers migrate
# ---------------------------------------------------------------------------
ConfigurationError = ConfigError
AggregationError = ExperimentError
BackendInferenceError = BackendError
BackendInitializationError = BackendError
BackendNotAvailableError = BackendError
BackendConfigError = ConfigError
BackendTimeoutError = BackendError
```

Mapping rationale:
- `ConfigurationError` → `ConfigError` (direct rename)
- `AggregationError` → `ExperimentError` (aggregation is part of experiment lifecycle)
- `BackendInferenceError` → `BackendError` (flattened hierarchy)
- `BackendInitializationError` → `BackendError` (flattened hierarchy)
- `BackendNotAvailableError` → `BackendError` (flattened hierarchy)
- `BackendConfigError` → `ConfigError` (config-related)
- `BackendTimeoutError` → `BackendError` (backend-related)

Do NOT modify any other files. Do NOT add these aliases to `__all__` if one exists
(they are transitional and should not appear in public API).
  </action>
  <verify>
Run: `python -c "
from llenergymeasure.exceptions import (
    ConfigurationError, AggregationError,
    BackendInferenceError, BackendInitializationError, BackendNotAvailableError,
    BackendConfigError, BackendTimeoutError,
    ConfigError, BackendError, ExperimentError,
)
assert ConfigurationError is ConfigError
assert AggregationError is ExperimentError
assert BackendInferenceError is BackendError
assert BackendInitializationError is BackendError
assert BackendNotAvailableError is BackendError
assert BackendConfigError is ConfigError
assert BackendTimeoutError is BackendError
print('All aliases resolve correctly')
"` — prints message.
  </verify>
  <done>
exceptions.py has v1.x compatibility aliases. All 7 deleted exception names now resolve to
their v2.0 replacements. No v1.x consumer files were modified.
  </done>
</task>

</tasks>

<verification>
1. `python -c "from llenergymeasure.exceptions import ConfigurationError, AggregationError, BackendInferenceError, BackendInitializationError, BackendNotAvailableError; print('OK')"` — prints OK
2. `python -c "from llenergymeasure.config.loader import load_config; print('config.loader importable')"` — no ImportError on the ConfigurationError import line
3. `python -c "from llenergymeasure.results.aggregation import ResultAggregator; print('aggregation importable')"` — no ImportError on the AggregationError import line (may fail for other reasons like missing torch — that is expected and acceptable)
</verification>

<success_criteria>
- All 7 v1.x exception names importable from llenergymeasure.exceptions
- Each alias maps to the correct v2.0 exception class (identity check with `is`)
- No other files modified
</success_criteria>

<output>
After completion, create `.planning/phases/01-measurement-foundations/01-04-SUMMARY.md`
</output>
